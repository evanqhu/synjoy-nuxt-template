<!-- é¦–é¡µ -->
<script setup lang="ts">
import { getData } from '~/api/modules/blog'
import imgURL from '~/assets/imgs/demo.jpg'

definePageMeta({
  middleware: 'home-auth',
})

/** å®šä¹‰ç»„ä»¶ head æ•°æ®ï¼Œå¯åœ¨æœåŠ¡ç«¯æ¸²æŸ“ï¼Œå¯ä½¿ç”¨å“åº”å¼æ•°æ® */
// useHead({
//   title: 'My App',
//   meta: [{ name: 'description', content: 'My amazing site.' }],
//   bodyAttrs: {
//     class: 'test',
//   },
//   script: [{ innerHTML: 'console.log(\'Hello world\')' }],
// })
// useSeoMeta({
//   title: 'My Amazing Site',
//   ogTitle: 'My Amazing Site',
//   description: 'This is my amazing site, let me tell you all about it.',
//   ogDescription: 'This is my amazing site, let me tell you all about it.',
//   ogImage: 'https://example.com/image.png',
//   twitterCard: 'summary_large_image',
// })

/** è·¯ç”±ç¦»å¼€æ—¶æ‰§è¡Œ */
// onBeforeRouteLeave((to, from, next) => {
//   console.log('ğŸš€ğŸš€ğŸš€ to: ', to)
//   console.log('ğŸš€ğŸš€ğŸš€ from: ', from)
//   next()
// })

/** è¿è¡Œæ—¶å˜é‡ */
const runtimeConfig = useRuntimeConfig()

/** å…¨å±€ App å˜é‡ */
const appConfig = useAppConfig()

/** å†™åœ¨ server ä¸­çš„æ¥å£ */
// const { data: hello } = await useFetch('/api/hello')
const { data: hello } = await useAsyncData('hello', () => $fetch('/api/hello'))
// console.log('ğŸš€ğŸš€ğŸš€  hello: ', hello.value)

const { data: blogs } = await useAsyncData('blogs', () => getData('test params'))
// console.log('ğŸš€ğŸš€ğŸš€  blogs: ', blogs.value)
/** å¤–éƒ¨æ¥å£ */
</script>

<template>
  <div class="home">
    <div>é¦–é¡µ</div>
    <button @click="getData('test params')">
      click
    </button>
    <Counter />
    <img
      :src="imgURL"
      alt=""
    >
  </div>
</template>

<style lang="scss" scoped>
.home {
  width: 100%;

  img {
    width: 100%;
  };
}
</style>
